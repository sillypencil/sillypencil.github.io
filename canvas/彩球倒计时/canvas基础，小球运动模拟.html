<html>
<head>
	<title>canvas 倒计时
	</title>
	<meta charset='utf-8'>
	<style type="text/css">
	#canvas{ margin: 30px auto; display: block;}
	</style>
</head>
<body>
	<canvas id="canvas">
		当前浏览器不支持Canvas，请更换浏览器之后再试
	</canvas>

<script type="text/javascript">
var ball = { x: 512, y: 100, r: 20, g: 2, vx: 4, vy: 0, color: "#058"}
window.onload = function () {
	
	var canvas = document.getElementById('canvas');
	console.log(ball);
	if( canvas.getContext("2d") ){
		canvas.width = 1024;
		canvas.height = 768;
		var context = canvas.getContext("2d");

		// render( context );
		setInterval(function(){
			render(context);
			update();
		},50);
	}
	else{
		alert("当前浏览器不支持Canvas，请更换浏览器之后再试")
	}
}
function update(){
	ball.x += ball.vx;
	ball.y += ball.vy;
	ball.vy += ball.g;
	if(ball.y >= canvas.height)
		ball.vy = -(0.8*ball.vy);
}

function render(cxt){
	cxt.clearRect(0,0,1024,768);
	cxt.fillStyle = ball.color;
	cxt.beginPath();
	cxt.arc( ball.x, ball.y, ball.r, 0, 2*Math.PI);
	cxt.closePath();
	cxt.fill();
}
</script>
</body>
</html>